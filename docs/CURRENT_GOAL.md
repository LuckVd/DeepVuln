# 当前目标

> 单一焦点：本次会话关注的核心任务

---

## 目标信息

| 字段 | 值 |
|------|-----|
| **任务** | 开发 CLI 交互模式 - Rich TUI 版本 |
| **状态** | completed |
| **优先级** | high |
| **创建日期** | 2026-02-16 |
| **完成日期** | 2026-02-16 |

---

## 完成标准

- [x] CLI 入口文件 `src/cli/main.py`
- [x] 源码类型选择（Git / 本地路径）
- [x] Git URL 输入 + Branch/Tag/Commit 选择
- [x] 本地路径输入（支持自动补全或验证）
- [x] 工作空间配置（基础目录、清理策略）
- [x] 获取进度展示（克隆/复制进度）
- [x] 结果展示（成功/失败、元数据）
- [x] 使用 rich/questionary 实现精美 TUI
- [x] 单元测试覆盖

---

## 关联模块

- `src/cli/` - CLI 入口
- `src/layers/l1_intelligence/` - L1 情报与资产层（已完成）
- `src/core/config/` - 配置管理

---

## 进度记录

| 时间 | 进展 |
|------|------|
| 2026-02-16 | 开始 CLI 交互模式开发 |
| 2026-02-16 | ✅ 完成 CLI 模块实现 (55 tests passed) |

---

## 备注

### ROADMAP 对应
- 扩展功能：CLI 交互入口

### 技术选型
- `rich` - 终端美化（表格、进度条、面板）
- `questionary` 或 `prompt_toolkit` - 交互式问答
- `typer` - CLI 参数解析（可选，与交互模式配合）

### 交互流程设计
```
1. 欢迎界面 (DeepVuln banner)
2. 选择源码来源
   - Git 仓库
   - 本地路径
3. Git 模式:
   - 输入仓库 URL
   - 选择 ref 类型 (branch/tag/commit)
   - 输入 ref 值
   - 选择克隆深度
4. 本地模式:
   - 输入路径
   - 是否复制到工作空间
5. 工作空间配置:
   - 基础目录（可选，默认使用配置）
   - 清理策略
6. 执行获取 + 进度展示
7. 展示结果 + 元数据
8. 询问下一步操作
```
