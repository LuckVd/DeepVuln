# 26be3aea0a19c1d22fcdb33fa46d156b054dcf46

## 基本信息

| 字段 | 值 |
|------|-----|
| **时间** | 2026-02-27 21:40 |
| **Commit** | 26be3aea0a19c1d22fcdb33fa46d156b054dcf46 |
| **Message** | feat(l1): add batch LLM entry point detection for 15x speedup |

## 简介

实现批量 LLM 入口点检测，每次提交 50 个文件进行批量分析，实现约 15 倍加速。

## 变更文件

| 文件 | 操作 |
|------|------|
| `src/layers/l1_intelligence/attack_surface/llm_detector.py` | 修改 |
| `src/layers/l1_intelligence/attack_surface/detector.py` | 修改 |
| `src/core/config/__init__.py` | 修改 |
| `src/cli/main.py` | 修改 |
| `src/cli/prompts.py` | 修改 |
| `config.example.toml` | 修改 |
| `tests/unit/test_l1/test_llm_detector.py` | 修改 |

## 功能变更

| 功能 | 操作 | 说明 |
|------|------|------|
| BATCH_ENTRY_POINT_DETECTION_PROMPT | 新增 | 多文件批量分析 Prompt 模板 |
| _analyze_files_batch() | 新增 | 批量文件分析方法 |
| _build_batch_content() | 新增 | 构建批量分析内容 |
| _parse_batch_response() | 新增 | 解析批量 LLM 响应 |
| get_llm_batch_size() | 新增 | 获取批量大小配置 |
| --batch-size CLI | 新增 | 命令行批量大小参数 |
| 交互式 batch_size | 新增 | 交互式模式询问批量大小 |

## 性能影响

| 指标 | 优化前 | 优化后 |
|------|--------|--------|
| 50 文件 LLM 调用次数 | 50 次 | 1-2 次 |
| 50 文件分析时间 | ~150s | ~10s |
| 加速比 | 1x | ~15x |

## 关联目标

- 目标：实现批量 LLM 入口点检测，每次提交 50 个文件
- 状态：completed
